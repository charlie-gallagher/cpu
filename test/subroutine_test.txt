; Initialize stack
	LDX_M
	IO_START
	DECX
	00h
	TXS
	00h

; Jump to start of program
	JMP
	start

; Define a subroutine that prints addresses 50 to NULL byte
printio:
	LDX_M    ; 08h
	FFh
	INCX    ; This resets the index to 0
	00h
	LDA_I
	50h
	STA_I
	IO_START
	BNE
	-6
	RTS   ; 12h
	00h

; Define a subroutine to clear the IO portion of memory
cleario:
	LDX_M   ; 14h
	10h
	LDA_M
	00h
	STA_I   ; Start of loop
	IO_START
	DECX
	00h
	BNE
	-4
	RTS
	00h

; Start of program
start:
	LDX_M  ; 20h
	00h
	LDA_M 
	'h'
	STA_I
	50h
	INCX
	00h
	LDA_M 
	'i'
	STA_I
	50h
	INCX
	00h
	LDA_M 
	'!'
	STA_I
	50h

; Write to IO
	JSR
	printio

; Load a different word and print with subroutine
	LDX_M 
	00h
	LDA_M 
	'B'
	STA_I
	50h
	INCX
	00h
	LDA_M 
	'r'
	STA_I
	50h
	INCX
	00h
	LDA_M 
	'e'
	STA_I
	50h

; Clear IO
	JSR
	cleario

; Print to IO
	JSR
	printio


